@using Pustokk.BLL.ViewModels.ProductViewModels
@model IEnumerable<ProductViewModel>

<section class="section-margin bg-image section-padding-top section-padding" data-bg="image/bg-images/best-seller-bg.jpg">
    <div class="container">
        <div class="section-title section-title--bordered mb-0">
            <h2>Best Seller Books</h2>
        </div>
        <div class="best-seller-block">
            <div class="row align-items-center">
                <div class="col-lg-5 col-md-6">
                    <div class="author-image">
                        <img src="image/others/best-seller-author.jpg" alt="Best Seller Author">
                    </div>
                </div>
                <div class="col-lg-7 col-md-6">
                    <div class="sb-slick-slider product-slider product-list-slider multiple-row slider-border-multiple-row"
                         data-slick-setting='{
                             "autoplay": false,
                             "autoplaySpeed": 8000,
                             "slidesToShow": 2,
                             "rows": 2,
                             "dots": true
                         }'
                         data-slick-responsive='[
                             {"breakpoint":1200, "settings": {"slidesToShow": 1}},
                             {"breakpoint":992, "settings": {"slidesToShow": 1}},
                             {"breakpoint":768, "settings": {"slidesToShow": 1}},
                             {"breakpoint":575, "settings": {"slidesToShow": 1}},
                             {"breakpoint":490, "settings": {"slidesToShow": 1}}
                         ]'>
                        @foreach (var product in Model)
                        {
                            <div class="single-slide">
                                <div class="product-card card-style-list">
                                    <div class="card-image">
                                        <img src="@product.ImageUrl" alt="@product.Name" class="img-fluid">
                                    </div>
                                    <div class="product-card--body">
                                        <div class="product-header">
                                            <a href="#" class="author">
                                                @product.CategoryName
                                            </a>
                                            <h3>
                                                <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id">
                                                    @product.Name
                                                </a>
                                            </h3>
                                        </div>
                                        <div class="price-block">
                                            <span class="price">£@product.Price</span>
                                            @if (product.DisCountPrice > 0)
                                            {
                                                <del class="price-old">£@product.DisCountPrice</del>
                                                <span class="price-discount">
                                                    @((100 - (product.DisCountPrice / product.Price) * 100).ToString("0") + "% Off")
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
